(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,a){e.exports=a(37)},37:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(15),s=a.n(i),l=a(3),c=a(4),o=a(6),u=a(5),d=a(2),m=a(7),h=(a(9),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleChangeSelect=a.handleChangeSelect.bind(Object(d.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleChangeSelect",value:function(e){this.props.onChangeSelect(e.target.textContent.toLowerCase())}},{key:"render",value:function(){return n.a.createElement("li",{className:"dropdown"},n.a.createElement("a",{href:"index.html",className:"dropdown-toggle","data-toggle":"dropdown"},n.a.createElement("p",{className:"inner-list-item"},"Select Category",n.a.createElement("b",{className:"caret"}))),n.a.createElement("ul",{className:"dropdown-menu"},n.a.createElement("li",null,n.a.createElement("div",{className:"div-link",onClick:this.handleChangeSelect},"Markdown")),n.a.createElement("li",null,n.a.createElement("div",{className:"div-link",onClick:this.handleChangeSelect},"Revenues")),n.a.createElement("li",null,n.a.createElement("div",{className:"div-link",onClick:this.handleChangeSelect},"Margin"))))}}]),t}(r.Component)),p=a(10),v=a(1),g=a.n(v),f=a(16),y=a.n(f),E=["#3182BD","#6BAED6","#9ECAE1","#C6DBEF","#E6550D","#FD8D3C","#FDAE6B","#FDD0A2","#31A354","#74C476","#A1D99B","#C7E9C0","#756BB1","#A5A0CC","#BBB3CC","#C8C7CC","#C9CC82"],C=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,null,[{key:"calcHeight",value:function(e){var t=e&&e.getBoundingClientRect&&e.getBoundingClientRect().width;return t&&t<400?200:300}},{key:"capitalizeFirstLetter",value:function(e){return e[0].toUpperCase()+e.slice(1)}},{key:"returnValue",value:function(e,t){return e||t}}]),e}(),b=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).myRef=n.a.createRef(),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(){this.props.selected&&(this.props.isSelected(!1),this.renderChart())}},{key:"renderChart",value:function(){var e=this,t=this.props.crossFilter.dimension(function(e){return e.item_category}),a=t.group().reduceSum(function(e){return e[n]}),r=g.a.pieChart("#pie-chart"),n=this.props.parameter,i=this.myRef.current;this.props.setPieHeader(i),r.height(function(e){return C.calcHeight(e)}).innerRadius(50).dimension(t).group(a).legend(g.a.legend()).ordinalColors(E).on("pretransition",function(t){var a=e.props.getMemoryData("prevFilters");a[a.length-1]||(a=[],e.props.setMemoryData("prevFilters",[])),e.setClassToSlice(t,a),t.selectAll("text.pie-slice").text(function(e){if((e.endAngle-e.startAngle)/(2*Math.PI)*100>=3)return g.a.utils.printSingleValue(Number.parseFloat(e.data.value).toFixed(2))})}).on("filtered.monitor",function(t,a){var r=e.props.getMemoryData("prevFilters"),s=e.props.getMemoryData("categoriesOrder");a?(e.setColorForSlices(t,s,e.props.chartLine,a),e.setClassToSlice(t,r)):(e.resetPieData(i),r=[]),e.handleSlicesData(r,e.props.chartLine,n,a),e.setYAxisTitle(e.props.chartLine,r,n),e.props.chartLine.render()}),g.a.renderAll()}},{key:"setColorForSlices",value:function(e,t,a,r){var n=this;e.selectAll("text.pie-slice").text(function(e){var t=n.props.getMemoryData("categoriesOrder");t.push(e.data.key),n.props.setMemoryData("categoriesOrder",t)}),a.colorAccessor(function(){return t.indexOf(r)})}},{key:"handleSlicesData",value:function(e,t,a,r){~e.indexOf(r)?(e.splice(e.indexOf(r),1),e.length||this.setYAxisTitle(t,null,a)):(e=this.props.getMemoryData("prevFilters")).push(r),this.props.setMemoryData("prevFilters",e)}},{key:"setYAxisTitle",value:function(e,t,a){var r;return r=t?this.isMoreValue(t):"",e.yAxisLabel("".concat(r||"All","  ").concat(C.capitalizeFirstLetter(a)," Sum"))}},{key:"setClassToSlice",value:function(e,t){e.selectAll("g.pie-slice > path").attr("class",function(e){return~t.indexOf(e.data.key)?"pie-selected":null})}},{key:"isMoreValue",value:function(e){return e.length>1?"Selected":e[0]}},{key:"resetPieData",value:function(e){this.props.setMemoryData("dataRangeText",[]),this.props.setMemoryData("prevFilters",[]),e.innerText=this.props.initialPieText}},{key:"render",value:function(){return n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"header"},n.a.createElement("h4",{className:"title"},C.capitalizeFirstLetter(C.returnValue(this.props.parameter,"markdown"))+" Statistics"),n.a.createElement("p",{className:"category",ref:this.myRef},this.props.initialPieText)),n.a.createElement("div",{className:"content"},n.a.createElement("div",{id:"pie-chart",className:"ct-chart"})))}}]),t}(r.Component),D=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.renderChart()}},{key:"componentDidUpdate",value:function(){this.props.selected&&(this.props.isSelected(!1),this.renderChart())}},{key:"renderChart",value:function(){var e=this,t=this.props.crossFilter.dimension(function(e){return+e.week_ref}),a=t.group().reduceSum(function(e){return e[n]}),r=g.a.lineChart("#line-chart"),n=this.props.parameter,i=this.setAxisRange(t,"week_ref"),s=this.props.getMemoryData("dataRangeText");r.height(function(e){return C.calcHeight(e)}).x(p.b().domain([i.runMin,i.runMax])).margins({top:10,right:10,bottom:50,left:60}).xAxisLabel("Week Number").yAxisLabel("All ".concat(C.capitalizeFirstLetter(n)," Sum")).renderDataPoints(!0).clipPadding(10).dimension(t).group(a).colors(E).colorDomain([0,16]).on("pretransition",function(){e.props.getMemoryData("dataRangeText").length&&e.setPieTitle(["pastValue"],e.props.pieHeader,s)}).addFilterHandler(function(t,a){var n=r.group().all().filter(function(e){return a.isFiltered(e.key)&&e.value});return s=e.getDataRangeText(a),e.setPieTitle(n,e.props.pieHeader,s),n.length?[a]:[]}).brush().on("brushend.no-empty",function(){r.filters().length||window.setTimeout(function(){r.filterAll().redraw()},100)}),this.props.setChartLine(r),g.a.renderAll()}},{key:"setAxisRange",value:function(e,t){return{runMin:+e.bottom(1)[0][t],runMax:+e.top(1)[0][t]}}},{key:"getDataRangeText",value:function(e){var t=Math.ceil(e[0]),a=Math.floor(e[e.length-1]);return 1===e.length?t:t+" - "+a}},{key:"setPieTitle",value:function(e,t,a){if(e.length)return t.innerText="Weeks: "+a,a;t.innerText=this.props.initialPieText,this.props.setMemoryData("dataRangeText","")}},{key:"render",value:function(){return n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"header"},n.a.createElement("h4",{className:"title"},"Time Line Chart"),n.a.createElement("p",{className:"category"},"Actual data for ",C.returnValue(this.props.csvData[0]&&this.props.csvData[0].year_ref,"2014"))),n.a.createElement("div",{className:"content"},n.a.createElement("div",{id:"line-chart",className:"ct-chart"})))}}]),t}(r.Component),k=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={csvData:null,parameter:"markdown",prevFilters:[],categoriesOrder:[],dataRangeText:[],pieHeader:{},selected:!0},a.onChangeSelect=a.onChangeSelect.bind(Object(d.a)(a)),a.setMemoryData=a.setMemoryData.bind(Object(d.a)(a)),a.getMemoryData=a.getMemoryData.bind(Object(d.a)(a)),a.setPieHeader=a.setPieHeader.bind(Object(d.a)(a)),a.setChartLine=a.setChartLine.bind(Object(d.a)(a)),a.isSelected=a.isSelected.bind(Object(d.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;p.a("data.csv").then(function(t){e.setState({csvData:t})}),this.changeOnResize()}},{key:"changeOnResize",value:function(){window.addEventListener("resize",function(){g.a.renderAll()})}},{key:"getInitData",value:function(){if(this.state.csvData){var e=y()(this.state.csvData);return n.a.createElement("div",{className:"content"},n.a.createElement("div",{className:"container-fluid"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-6"},n.a.createElement(b,{parameter:this.state.parameter,csvData:this.state.csvData,crossFilter:e,setMemoryData:this.setMemoryData,getMemoryData:this.getMemoryData,setPieHeader:this.setPieHeader,initialPieText:"For all categories",chartLine:this.state.chartLine,selected:this.state.selected,isSelected:this.isSelected})),n.a.createElement("div",{className:"col-md-6"},n.a.createElement(D,{parameter:this.state.parameter,csvData:this.state.csvData,crossFilter:e,setMemoryData:this.setMemoryData,getMemoryData:this.getMemoryData,pieHeader:this.state.pieHeader,initialPieText:"For all categories",setChartLine:this.setChartLine,selected:this.state.selected,isSelected:this.isSelected})))))}}},{key:"onChangeSelect",value:function(e){this.setState({parameter:e}),this.setState({selected:!0})}},{key:"isSelected",value:function(e){this.setState({selected:e})}},{key:"setMemoryData",value:function(e,t){switch(e){case"prevFilters":return this.setState({prevFilters:t});case"categoriesOrder":return this.setState({categoriesOrder:t});default:return this.setState({dataRangeText:t})}}},{key:"getMemoryData",value:function(e){switch(e){case"prevFilters":return this.state.prevFilters;case"categoriesOrder":return this.state.categoriesOrder;default:return this.state.dataRangeText}}},{key:"setPieHeader",value:function(e){return this.setState({pieHeader:e})}},{key:"setChartLine",value:function(e){return this.setState({chartLine:e})}},{key:"resetAll",value:function(){g.a.filterAll(),g.a.renderAll()}},{key:"render",value:function(){return n.a.createElement("div",{className:"wrapper"},n.a.createElement("div",{className:"sidebar","data-color":"purple","data-image":"assets/img/sidebar-5.jpg"},n.a.createElement("div",{className:"sidebar-wrapper"},n.a.createElement("div",{className:"logo"},n.a.createElement("a",{href:"http://www.creative-tim.com",className:"simple-text"},"Creative Tim")),n.a.createElement("ul",{className:"nav"},n.a.createElement("li",{className:"active"},n.a.createElement("a",{href:"index.html"},n.a.createElement("i",{className:"pe-7s-graph"}),n.a.createElement("p",null,"Dashboard")))))),n.a.createElement("div",{className:"main-panel"},n.a.createElement("nav",{className:"navbar navbar-default navbar-fixed"},n.a.createElement("div",{className:"container-fluid container-header"},n.a.createElement("div",{className:"navbar-header"},n.a.createElement("a",{className:"navbar-brand",href:"index.html"},"Statistics Dashboard")),n.a.createElement("div",{className:"header-item-right"},n.a.createElement("ul",{className:"nav navbar-nav navbar-right"},n.a.createElement("li",null,n.a.createElement("div",{className:"div-link",onClick:this.resetAll},n.a.createElement("p",{className:"inner-list-item"},"Reset All"))),n.a.createElement(h,{onChangeSelect:this.onChangeSelect}))))),this.getInitData(),n.a.createElement("footer",{className:"footer"},n.a.createElement("div",{className:"container-fluid"},n.a.createElement("p",{className:"copyright pull-right"},"\xa9 ",n.a.createElement("script",null,"document.write(new Date().getFullYear())")," ",n.a.createElement("a",{href:"http://www.creative-tim.com"},"Creative Tim"),", made with love for a better web")))))}}]),t}(r.Component);s.a.render(n.a.createElement(k,null),document.getElementById("root"))},9:function(e,t,a){}},[[17,1,2]]]);
//# sourceMappingURL=main.d76d10b9.chunk.js.map