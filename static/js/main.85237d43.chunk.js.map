{"version":3,"sources":["helpers.js","components/charts.js","components/dropdown.js","App.js","index.js"],"names":["Helpers","element","width","getBoundingClientRect","string","toUpperCase","slice","defaultString","ChartLine","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","parameter","chartLine","dc","lineChart","chartPie","pieChart","returnValue","ndx","crossfilter","csvData","runDimensionLinear","dimension","d","week_ref","sumGroupLinear","group","reduceSum","runDimensionPie","item_category","SumGroupPie","height","calcHeight","innerRadius","drawPaths","legend","autoItemWidth","on","chart","selectAll","text","endAngle","startAngle","Math","PI","utils","printSingleValue","Number","parseFloat","data","value","toFixed","xAxisRange","setAxisRange","x","d3","domain","runMin","runMax","margins","top","right","bottom","left","xAxisLabel","yAxisLabel","concat","capitalizeFirstLetter","renderDataPoints","clipPadding","addFilterHandler","filters","filter","all","kv","isFiltered","key","length","brush","window","setTimeout","filterAll","redraw","renderAll","react_default","a","createElement","className","id","Component","Dropdown","handleChangeSelect","bind","assertThisInitialized","e","onAnswerChangeSelect","target","textContent","toLowerCase","href","data-toggle","onClick","App","_this2","then","setState","selectedItem","data-color","data-image","resetAll","dropdown","charts","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.85237d43.chunk.js","sourcesContent":["class Helpers {\r\n\r\n    //Set height for desktop or mobile\r\n    static calcHeight(element) {\r\n        let width = element && element.getBoundingClientRect && element.getBoundingClientRect().width;\r\n        return (width && width < 400) ? 200 : 300\r\n    }\r\n\r\n    static capitalizeFirstLetter(string) {\r\n        return string[0].toUpperCase() + string.slice(1)\r\n    }\r\n\r\n    static returnValue(string, defaultString) {\r\n        return !!string ? string : defaultString\r\n    }\r\n}\r\n\r\nexport { Helpers };","import React, { Component } from 'react';\r\nimport dc from 'dc';\r\nimport * as d3 from 'd3';\r\nimport crossfilter from 'crossfilter';\r\nimport { Helpers } from '../helpers';\r\nimport '../style/style.css';\r\n\r\nclass ChartLine extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            parameter: 'Markdown'\r\n        }\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        let chartLine = dc.lineChart('#line-chart');\r\n        let chartPie = dc.pieChart('#pie-chart');\r\n\r\n        let parameter = Helpers.returnValue(this.props.parameter, 'markdown');\r\n\r\n        let ndx                         = crossfilter(this.props.csvData),\r\n            runDimensionLinear          = ndx.dimension(function(d) {return +d.week_ref;}),\r\n            sumGroupLinear              = runDimensionLinear.group().reduceSum(function(d) {return d[parameter];}),\r\n            runDimensionPie             = ndx.dimension(function(d) {return d.item_category;}),\r\n            SumGroupPie                 = runDimensionPie.group().reduceSum(function(d) {return d[parameter];});\r\n\r\n        chartPie\r\n            .height((element) => Helpers.calcHeight(element))\r\n            .innerRadius(50)\r\n            .dimension(runDimensionPie)\r\n            .group(SumGroupPie)\r\n            .drawPaths(true)\r\n            .legend(dc.legend().autoItemWidth(true))\r\n            // workaround for #703: not enough data is accessible through .label() to display percentages\r\n            .on('pretransition', function(chart) {\r\n                chart.selectAll('text.pie-slice').text(function(d) {\r\n                    let resultAngle = (d.endAngle - d.startAngle) / (2 * Math.PI) * 100;\r\n                    if (resultAngle >= 3)\r\n                        return dc.utils.printSingleValue(Number.parseFloat(d.data.value).toFixed(2));\r\n                })\r\n            });\r\n\r\n        let xAxisRange = this.setAxisRange(runDimensionLinear, 'week_ref');\r\n\r\n        chartLine\r\n            .height((element) => Helpers.calcHeight(element))\r\n            .x(d3.scaleLinear().domain([xAxisRange.runMin, xAxisRange.runMax]))\r\n            .margins({top: 10, right: 10, bottom: 50, left: 60})\r\n            .xAxisLabel('Week Number')\r\n            .yAxisLabel(`${Helpers.capitalizeFirstLetter(parameter)} Sum`)\r\n            .renderDataPoints(true)\r\n            .clipPadding(10)\r\n            .dimension(runDimensionLinear)\r\n            .group(sumGroupLinear)\r\n            .addFilterHandler(function(filters, filter) {\r\n                let binsIn = chartLine.group().all().filter(function(kv) {\r\n                    return filter.isFiltered(kv.key) && kv.value;\r\n                });\r\n                return binsIn.length ? [filter] : [];\r\n            })\r\n            .brush().on('brushend.no-empty', function() {\r\n                if(!chartLine.filters().length)\r\n                    window.setTimeout(function() {\r\n                        chartLine.filterAll().redraw();\r\n                    }, 100);\r\n            });\r\n\r\n        dc.renderAll();\r\n    }\r\n\r\n    setAxisRange(runDimensionLinear, key) {\r\n        let runMin = +runDimensionLinear.bottom(1)[0][key];\r\n        let runMax = +runDimensionLinear.top(1)[0][key];\r\n        return {runMin, runMax}\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"content\">\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-md-6\">\r\n                            <div className=\"card\">\r\n                                <div className=\"header\">\r\n                                    <h4 className=\"title\">\r\n                                        {\r\n                                            Helpers.capitalizeFirstLetter(Helpers.returnValue(this.props.parameter, 'markdown'))\r\n                                            + ' Statistics'}\r\n                                    </h4>\r\n                                    <p className=\"category\">For all categories</p>\r\n                                </div>\r\n                                <div className=\"content\">\r\n                                    <div id=\"pie-chart\" className=\"ct-chart\"></div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"col-md-6\">\r\n                            <div className=\"card\">\r\n                                <div className=\"header\">\r\n                                    <h4 className=\"title\">Time Line Chart</h4>\r\n                                    <p className=\"category\">Actual data for {\r\n                                        Helpers.returnValue(this.props.csvData[0] && this.props.csvData[0]['year_ref'], '2014')}</p>\r\n                                </div>\r\n                                <div className=\"content\">\r\n                                    <div id=\"line-chart\" className=\"ct-chart\"></div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ChartLine;\r\n","import React, { Component } from 'react';\r\n\r\nimport '../style/style.css';\r\n\r\nclass Dropdown extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleChangeSelect = this.handleChangeSelect.bind(this)\r\n    }\r\n\r\n    componentDidMount() {}\r\n\r\n    handleChangeSelect(e) {\r\n        this.props.onAnswerChangeSelect(e.target.textContent.toLowerCase());\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <li className=\"dropdown\">\r\n                <a href=\"index.html\" className=\"dropdown-toggle\" data-toggle=\"dropdown\">\r\n                    <p>\r\n                        Select Category\r\n                        <b className=\"caret\"></b>\r\n                    </p>\r\n                </a>\r\n                <ul className=\"dropdown-menu\">\r\n                    <li><div className=\"div-link\" onClick={this.handleChangeSelect}>Markdown</div></li>\r\n                    <li><div className=\"div-link\" onClick={this.handleChangeSelect}>Revenues</div></li>\r\n                    <li><div className=\"div-link\" onClick={this.handleChangeSelect}>Margin</div></li>\r\n                </ul>\r\n            </li>\r\n        );\r\n\r\n\r\n    }\r\n}\r\n\r\nexport default Dropdown\r\n","import React, { Component } from 'react';\r\nimport Charts from './components/charts';\r\nimport Dropdown from './components/dropdown'\r\nimport * as d3 from 'd3';\r\nimport dc from 'dc';\r\n\r\nimport './style/style.css';\r\n\r\nclass App extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            csvData: [],\r\n            parameter: ''\r\n        };\r\n        this.onAnswerChangeSelect = this.onAnswerChangeSelect.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n            d3.csv(\"data.csv\").then((csvData) => {\r\n                this.setState({csvData: csvData})\r\n        });\r\n    }\r\n\r\n    onAnswerChangeSelect(selectedItem) {\r\n        this.setState({parameter: selectedItem});\r\n    }\r\n\r\n    resetAll() {\r\n        dc.filterAll();\r\n        dc.renderAll();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"wrapper\">\r\n                <div className=\"sidebar\" data-color=\"purple\" data-image=\"assets/img/sidebar-5.jpg\">\r\n\r\n                    <div className=\"sidebar-wrapper\">\r\n                        <div className=\"logo\">\r\n                            <a href=\"http://www.creative-tim.com\" className=\"simple-text\">\r\n                                Creative Tim\r\n                            </a>\r\n                        </div>\r\n\r\n                        <ul className=\"nav\">\r\n                            <li className=\"active\">\r\n                                <a href=\"dashboard.html\">\r\n                                    <i className=\"pe-7s-graph\"></i>\r\n                                    <p>Dashboard</p>\r\n                                </a>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"main-panel\">\r\n                    <nav className=\"navbar navbar-default navbar-fixed\">\r\n                        <div className=\"container-fluid\">\r\n                            <div className=\"navbar-header\">\r\n                                <a className=\"navbar-brand\" href=\"index.html\">Dashboard</a>\r\n                            </div>\r\n                            <div className=\"collapse navbar-collapse\">\r\n                                <ul className=\"nav navbar-nav navbar-left\">\r\n                                    <li>\r\n                                        <a href=\"index.html\" className=\"dropdown-toggle\" data-toggle=\"dropdown\">\r\n                                            <i className=\"fa fa-dashboard\"></i>\r\n                                        </a>\r\n                                    </li>\r\n                                </ul>\r\n\r\n                                <ul className=\"nav navbar-nav navbar-right\">\r\n\r\n                                    <li>\r\n                                        <div className=\"div-link\" onClick={this.resetAll}>\r\n                                            <p>Reset All</p>\r\n                                        </div>\r\n                                    </li>\r\n\r\n                                    <Dropdown\r\n                                        onAnswerChangeSelect = {this.onAnswerChangeSelect} />\r\n\r\n                                    <li className=\"separator hidden-lg\"></li>\r\n                                </ul>\r\n                            </div>\r\n                        </div>\r\n                    </nav>\r\n\r\n                    <Charts\r\n                        csvData={this.state.csvData}\r\n                        parameter={this.state.parameter}\r\n                    />\r\n\r\n                    <footer className=\"footer\">\r\n                        <div className=\"container-fluid\">\r\n                            <p className=\"copyright pull-right\">\r\n                                &copy; <script>document.write(new Date().getFullYear())</script> <a href=\"http://www.creative-tim.com\">Creative Tim</a>, made with love for a better web\r\n                            </p>\r\n                        </div>\r\n                    </footer>\r\n                </div>\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}