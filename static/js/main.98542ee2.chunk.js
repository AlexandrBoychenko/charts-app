(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){},17:function(e,t,a){e.exports=a(37)},37:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(15),i=a.n(l),c=a(2),s=a(3),o=a(7),m=a(6),u=a(5),d=a(8),h=a(1),v=a.n(h),p=a(9),f=a(16),g=a.n(f),E=function(){function e(){Object(c.a)(this,e)}return Object(s.a)(e,null,[{key:"calcHeight",value:function(e){var t=e&&e.getBoundingClientRect&&e.getBoundingClientRect().width;return t&&t<400?200:300}},{key:"capitalizeFirstLetter",value:function(e){return e[0].toUpperCase()+e.slice(1)}},{key:"returnValue",value:function(e,t){return e||t}}]),e}(),b=["#3182BD","#6BAED6","#9ECAE1","#C6DBEF","#E6550D","#FD8D3C","#FDAE6B","#FDD0A2","#31A354","#74C476","#A1D99B","#C7E9C0","#756BB1","#A5A0CC","#BBB3CC","#C8C7CC","#C9CC82"],C=(a(10),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={parameter:"Markdown",initialPieText:"For all categories"},a.myRef=r.a.createRef(),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(){var e,t=this,a=v.a.lineChart("#line-chart"),n=v.a.pieChart("#pie-chart"),r=this.myRef.current,l=E.returnValue(this.props.parameter,"markdown"),i=g()(this.props.csvData),c=i.dimension(function(e){return+e.week_ref}),s=c.group().reduceSum(function(e){return e[l]}),o=i.dimension(function(e){return e.item_category}),m=o.group().reduceSum(function(e){return e[l]}),u=[];n.height(function(e){return E.calcHeight(e)}).innerRadius(50).dimension(o).group(m).drawPaths(!0).legend(v.a.legend()).ordinalColors(b).on("pretransition",function(e){e.selectAll("text.pie-slice").text(function(e){if((e.endAngle-e.startAngle)/(2*Math.PI)*100>=3)return v.a.utils.printSingleValue(Number.parseFloat(e.data.value).toFixed(2))}),console.log(s.all())}).on("filtered.monitor",function(n,i){i&&e!==i?(a.yAxisLabel("".concat(i||"All","  ").concat(E.capitalizeFirstLetter(l))),e=i):(e="",r.innerText=t.state.initialPieText,a.yAxisLabel("All ".concat(E.capitalizeFirstLetter(l)))),n.selectAll("text.pie-slice").text(function(e,t){u.push(e.data.key)}),a.colorAccessor(function(){return u.indexOf(i)}),v.a.renderAll()});var d=this.setAxisRange(c,"week_ref");a.height(function(e){return E.calcHeight(e)}).x(p.b().domain([d.runMin,d.runMax])).margins({top:10,right:10,bottom:50,left:60}).xAxisLabel("Week Number").yAxisLabel("All ".concat(E.capitalizeFirstLetter(l))).renderDataPoints(!0).clipPadding(10).dimension(c).group(s).colors(b).colorDomain([0,16]).addFilterHandler(function(e,n){r.innerText=t.state.initialPieText;var l=a.group().all().filter(function(e){return n.isFiltered(e.key)&&e.value});return t.handlePieText(n,l,r),l.length?[n]:[]}).brush().on("brushend.no-empty",function(){a.filters().length||window.setTimeout(function(){a.filterAll().redraw()},100)}),v.a.renderAll(),this.changeOnResize()}},{key:"changeOnResize",value:function(){window.addEventListener("resize",function(){v.a.renderAll()})}},{key:"setAxisRange",value:function(e,t){return{runMin:+e.bottom(1)[0][t],runMax:+e.top(1)[0][t]}}},{key:"handlePieText",value:function(e,t,a){var n=Math.ceil(e[0]),r=Math.floor(e[e.length-1]),l=1===e.length?n:n+" - "+r;t.length?a.innerText="Weeks: "+l:a.innerText=this.state.initialPieText}},{key:"render",value:function(){return r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"header"},r.a.createElement("h4",{className:"title"},E.capitalizeFirstLetter(E.returnValue(this.props.parameter,"markdown"))+" Statistics"),r.a.createElement("p",{className:"category",ref:this.myRef},this.state.initialPieText)),r.a.createElement("div",{className:"content"},r.a.createElement("div",{id:"pie-chart",className:"ct-chart"})))),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"header"},r.a.createElement("h4",{className:"title"},"Time Line Chart"),r.a.createElement("p",{className:"category"},"Actual data for ",E.returnValue(this.props.csvData[0]&&this.props.csvData[0].year_ref,"2014"))),r.a.createElement("div",{className:"content"},r.a.createElement("div",{id:"line-chart",className:"ct-chart"})))))))}}]),t}(n.Component)),N=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleChangeSelect=a.handleChangeSelect.bind(Object(u.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"handleChangeSelect",value:function(e){this.props.onChangeSelect(e.target.textContent.toLowerCase())}},{key:"render",value:function(){return r.a.createElement("li",{className:"dropdown"},r.a.createElement("a",{href:"index.html",className:"dropdown-toggle","data-toggle":"dropdown"},r.a.createElement("p",{className:"inner-list-item"},"Select Category",r.a.createElement("b",{className:"caret"}))),r.a.createElement("ul",{className:"dropdown-menu"},r.a.createElement("li",null,r.a.createElement("div",{className:"div-link",onClick:this.handleChangeSelect},"Markdown")),r.a.createElement("li",null,r.a.createElement("div",{className:"div-link",onClick:this.handleChangeSelect},"Revenues")),r.a.createElement("li",null,r.a.createElement("div",{className:"div-link",onClick:this.handleChangeSelect},"Margin"))))}}]),t}(n.Component),w=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={csvData:[],parameter:""},a.onChangeSelect=a.onChangeSelect.bind(Object(u.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;p.a("data.csv").then(function(t){e.setState({csvData:t})})}},{key:"onChangeSelect",value:function(e){this.setState({parameter:e})}},{key:"resetAll",value:function(){v.a.filterAll(),v.a.renderAll()}},{key:"render",value:function(){return r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"sidebar","data-color":"purple","data-image":"assets/img/sidebar-5.jpg"},r.a.createElement("div",{className:"sidebar-wrapper"},r.a.createElement("div",{className:"logo"},r.a.createElement("a",{href:"http://www.creative-tim.com",className:"simple-text"},"Creative Tim")),r.a.createElement("ul",{className:"nav"},r.a.createElement("li",{className:"active"},r.a.createElement("a",{href:"index.html"},r.a.createElement("i",{className:"pe-7s-graph"}),r.a.createElement("p",null,"Dashboard")))))),r.a.createElement("div",{className:"main-panel"},r.a.createElement("nav",{className:"navbar navbar-default navbar-fixed"},r.a.createElement("div",{className:"container-fluid container-header"},r.a.createElement("div",{className:"navbar-header"},r.a.createElement("a",{className:"navbar-brand",href:"index.html"},"Statistics Dashboard")),r.a.createElement("div",{className:"header-item-right"},r.a.createElement("ul",{className:"nav navbar-nav navbar-right"},r.a.createElement("li",null,r.a.createElement("div",{className:"div-link",onClick:this.resetAll},r.a.createElement("p",{className:"inner-list-item"},"Reset All"))),r.a.createElement(N,{onChangeSelect:this.onChangeSelect}))))),r.a.createElement(C,{csvData:this.state.csvData,parameter:this.state.parameter}),r.a.createElement("footer",{className:"footer"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("p",{className:"copyright pull-right"},"\xa9 ",r.a.createElement("script",null,"document.write(new Date().getFullYear())")," ",r.a.createElement("a",{href:"http://www.creative-tim.com"},"Creative Tim"),", made with love for a better web")))))}}]),t}(n.Component);i.a.render(r.a.createElement(w,null),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.98542ee2.chunk.js.map